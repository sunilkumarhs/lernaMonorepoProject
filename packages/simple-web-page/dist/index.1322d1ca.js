let e,t;function n(e,t,n,l,o){let i=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:l,elm:o,key:i}}const l=Array.isArray;function o(e){return"string"==typeof e||"number"==typeof e||e instanceof String||e instanceof Number}function i(e){if(r(e)){for(;e&&r(e);)e=d(e).parent;return null!=e?e:null}return e.parentNode}function r(e){return 11===e.nodeType}function d(e,t){var n,l,o;return null!==(n=e.parent)&&void 0!==n||(e.parent=null!=t?t:null),null!==(l=e.firstChildNode)&&void 0!==l||(e.firstChildNode=e.firstChild),null!==(o=e.lastChildNode)&&void 0!==o||(e.lastChildNode=e.lastChild),e}const u={createElement:function(e,t){return document.createElement(e,t)},createElementNS:function(e,t,n){return document.createElementNS(e,t,n)},createTextNode:function(e){return document.createTextNode(e)},createDocumentFragment:function(){return d(document.createDocumentFragment())},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){if(r(e)){let t=e;for(;t&&r(t);)t=d(t).parent;e=null!=t?t:e}r(t)&&(t=d(t,e)),n&&r(n)&&(n=d(n).firstChildNode),e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){r(t)&&(t=d(t,e)),e.appendChild(t)},parentNode:i,nextSibling:function(e){var t;if(r(e)){let n=d(e),l=i(n);if(l&&n.lastChildNode){let e=Array.from(l.childNodes),o=e.indexOf(n.lastChildNode);return null!==(t=e[o+1])&&void 0!==t?t:null}return null}return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType},isDocumentFragment:r};function a(e){return void 0===e}function f(e){return void 0!==e}const c=n("",{},[],void 0,void 0);function s(e,t){var n,l;let o=e.key===t.key,i=(null===(n=e.data)||void 0===n?void 0:n.is)===(null===(l=t.data)||void 0===l?void 0:l.is),r=e.sel===t.sel,d=!!e.sel||e.sel!==t.sel||typeof e.text==typeof t.text;return r&&o&&i&&d}const v=["create","update","remove","destroy","pre","post"];function m(e,t,i){let r,d,u,a={};if(void 0!==i?(null!==t&&(a=t),l(i)?r=i:o(i)?d=i.toString():i&&i.sel&&(r=[i])):null!=t&&(l(t)?r=t:o(t)?d=t.toString():t&&t.sel?r=[t]:a=t),void 0!==r)for(u=0;u<r.length;++u)o(r[u])&&(r[u]=n(void 0,void 0,void 0,r[u],void 0));return e.startsWith("svg")&&(3===e.length||"."===e[3]||"#"===e[3])&&function e(t,n,l){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==l&&void 0!==n)for(let t=0;t<n.length;++t){let l=n[t];if("string"==typeof l)continue;let o=l.data;void 0!==o&&e(o,l.children,l.sel)}}(a,r,e),n(e,a,r,d,void 0)}function h(e,t){let n;let l=e.data.on,o=e.listener,i=e.elm,r=t&&t.data.on,d=t&&t.elm;if(l!==r){if(l&&o){if(r)for(n in l)r[n]||i.removeEventListener(n,o,!1);else for(n in l)i.removeEventListener(n,o,!1)}if(r){let o=t.listener=e.listener||function e(t){!function(e,t){let n=e.type,l=t.data.on;l&&l[n]&&function e(t,n,l){if("function"==typeof t)t.call(n,l,n);else if("object"==typeof t)for(let o=0;o<t.length;o++)e(t[o],n,l)}(l[n],t,e)}(t,e.vnode)};if(o.vnode=t,l)for(n in r)l[n]||d.addEventListener(n,o,!1);else for(n in r)d.addEventListener(n,o,!1)}}}const p=function(e,t,i){let r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]};for(let t of v)for(let n of e){let e=n[t];void 0!==e&&r[t].push(e)}function d(e,t){var n,i,s;let v;let m=e.data;if(void 0!==m){let t=null===(n=m.hook)||void 0===n?void 0:n.init;f(t)&&(t(e),m=e.data)}let h=e.children,p=e.sel;if("!"===p)a(e.text)&&(e.text=""),e.elm=u.createComment(e.text);else if(""===p)e.elm=u.createTextNode(e.text);else if(void 0!==p){let n=p.indexOf("#"),a=p.indexOf(".",n),s=n>0?n:p.length,g=a>0?a:p.length,x=-1!==n||-1!==a?p.slice(0,Math.min(s,g)):p,y=e.elm=f(m)&&f(v=m.ns)?u.createElementNS(v,x,m):u.createElement(x,m);for(s<g&&y.setAttribute("id",p.slice(s+1,g)),a>0&&y.setAttribute("class",p.slice(g+1).replace(/\./g," ")),v=0;v<r.create.length;++v)r.create[v](c,e);if(o(e.text)&&(!l(h)||0===h.length)&&u.appendChild(y,u.createTextNode(e.text)),l(h))for(v=0;v<h.length;++v){let e=h[v];null!=e&&u.appendChild(y,d(e,t))}let C=e.data.hook;f(C)&&(null===(i=C.create)||void 0===i||i.call(C,c,e),C.insert&&t.push(e))}else e.elm=u.createTextNode(e.text);return e.elm}function m(e,t,n,l,o,i){for(;l<=o;++l){let o=n[l];null!=o&&u.insertBefore(e,d(o,i),t)}}function h(e){var t,n;let l=e.data;if(void 0!==l){null===(n=null===(t=null==l?void 0:l.hook)||void 0===t?void 0:t.destroy)||void 0===n||n.call(t,e);for(let t=0;t<r.destroy.length;++t)r.destroy[t](e);if(void 0!==e.children)for(let t=0;t<e.children.length;++t){let n=e.children[t];null!=n&&"string"!=typeof n&&h(n)}}}function p(e,t,n,l){for(var o,i;n<=l;++n){let l,d;let a=t[n];if(null!=a){if(f(a.sel)){h(a),l=r.remove.length+1,d=function(e,t){return function(){if(0==--t){let t=u.parentNode(e);null!==t&&u.removeChild(t,e)}}}(a.elm,l);for(let e=0;e<r.remove.length;++e)r.remove[e](a,d);let e=null===(i=null===(o=null==a?void 0:a.data)||void 0===o?void 0:o.hook)||void 0===i?void 0:i.remove;f(e)?e(a,d):d()}else a.children?(h(a),p(e,a.children,0,a.children.length-1)):u.removeChild(e,a.elm)}}}return function(e,t){var l,o;let i,c,v;let h=[];for(i=0;i<r.pre.length;++i)r.pre[i]();for((l=e,u.isElement(l))?e=function(e){let t=e.id?"#"+e.id:"",l=e.getAttribute("class"),o=l?"."+l.split(" ").join("."):"";return n(u.tagName(e).toLowerCase()+t+o,{},[],void 0,e)}(e):(o=e,u.isDocumentFragment(o)&&(e=n(void 0,{},[],void 0,e))),s(e,t)?function e(t,n,l){var o,i,c,v,h,g,x,y;let C=null===(o=n.data)||void 0===o?void 0:o.hook;null===(i=null==C?void 0:C.prepatch)||void 0===i||i.call(C,t,n);let N=n.elm=t.elm;if(t===n)return;if(void 0!==n.data||f(n.text)&&n.text!==t.text){null!==(c=n.data)&&void 0!==c||(n.data={}),null!==(v=t.data)&&void 0!==v||(t.data={});for(let e=0;e<r.update.length;++e)r.update[e](t,n);null===(x=null===(g=null===(h=n.data)||void 0===h?void 0:h.hook)||void 0===g?void 0:g.update)||void 0===x||x.call(g,t,n)}let k=t.children,T=n.children;a(n.text)?f(k)&&f(T)?k!==T&&function(t,n,l,o){let i,r,f,c=0,v=0,h=n.length-1,g=n[0],x=n[h],y=l.length-1,C=l[0],N=l[y];for(;c<=h&&v<=y;)null==g?g=n[++c]:null==x?x=n[--h]:null==C?C=l[++v]:null==N?N=l[--y]:s(g,C)?(e(g,C,o),g=n[++c],C=l[++v]):s(x,N)?(e(x,N,o),x=n[--h],N=l[--y]):s(g,N)?(e(g,N,o),u.insertBefore(t,g.elm,u.nextSibling(x.elm)),g=n[++c],N=l[--y]):s(x,C)?(e(x,C,o),u.insertBefore(t,x.elm,g.elm),x=n[--h],C=l[++v]):(void 0===i&&(i=function(e,t,n){var l;let o={};for(let i=t;i<=n;++i){let t=null===(l=e[i])||void 0===l?void 0:l.key;void 0!==t&&(o[t]=i)}return o}(n,c,h)),a(r=i[C.key])?(u.insertBefore(t,d(C,o),g.elm),C=l[++v]):a(i[N.key])?(u.insertBefore(t,d(N,o),u.nextSibling(x.elm)),N=l[--y]):((f=n[r]).sel!==C.sel?u.insertBefore(t,d(C,o),g.elm):(e(f,C,o),n[r]=void 0,u.insertBefore(t,f.elm,g.elm)),C=l[++v]));v<=y&&m(t,null==l[y+1]?null:l[y+1].elm,l,v,y,o),c<=h&&p(t,n,c,h)}(N,k,T,l):f(T)?(f(t.text)&&u.setTextContent(N,""),m(N,null,T,0,T.length-1,l)):f(k)?p(N,k,0,k.length-1):f(t.text)&&u.setTextContent(N,""):t.text!==n.text&&(f(k)&&p(N,k,0,k.length-1),u.setTextContent(N,n.text)),null===(y=null==C?void 0:C.postpatch)||void 0===y||y.call(C,t,n)}(e,t,h):(c=e.elm,v=u.parentNode(c),d(t,h),null!==v&&(u.insertBefore(v,t.elm,u.nextSibling(c)),p(v,[e],0,0))),i=0;i<h.length;++i)h[i].data.hook.insert(h[i]);for(i=0;i<r.post.length;++i)r.post[i]();return t}}([{create:h,update:h,destroy:h}]);let g={count:0};!function(n,l){function o(){var t;t={count:g.count+1},g={...g,...t},e(g)}e=e=>{console.log("State changed:",g),function(e){let n=l(e,o);p(t,n)}(e)},console.log("Component mounted"),p(n,t=l(g,o))}(document.getElementById("container"),(e,t)=>m("div",{style:{alignItems:"center",display:"flex",justifyContent:"center"}},[m("h1",e.count),m("button",{on:{click:t}},"Add")]));
//# sourceMappingURL=index.1322d1ca.js.map
