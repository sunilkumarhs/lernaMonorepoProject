let e;function t(e,t,n,l,o){let i=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:l,elm:o,key:i}}const n=Array.isArray;function l(e){return"string"==typeof e||"number"==typeof e||e instanceof String||e instanceof Number}function o(e){if(i(e)){for(;e&&i(e);)e=r(e).parent;return null!=e?e:null}return e.parentNode}function i(e){return 11===e.nodeType}function r(e,t){var n,l,o;return null!==(n=e.parent)&&void 0!==n||(e.parent=null!=t?t:null),null!==(l=e.firstChildNode)&&void 0!==l||(e.firstChildNode=e.firstChild),null!==(o=e.lastChildNode)&&void 0!==o||(e.lastChildNode=e.lastChild),e}const d={createElement:function(e,t){return document.createElement(e,t)},createElementNS:function(e,t,n){return document.createElementNS(e,t,n)},createTextNode:function(e){return document.createTextNode(e)},createDocumentFragment:function(){return r(document.createDocumentFragment())},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){if(i(e)){let t=e;for(;t&&i(t);)t=r(t).parent;e=null!=t?t:e}i(t)&&(t=r(t,e)),n&&i(n)&&(n=r(n).firstChildNode),e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){i(t)&&(t=r(t,e)),e.appendChild(t)},parentNode:o,nextSibling:function(e){var t;if(i(e)){let n=r(e),l=o(n);if(l&&n.lastChildNode){let e=Array.from(l.childNodes),o=e.indexOf(n.lastChildNode);return null!==(t=e[o+1])&&void 0!==t?t:null}return null}return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},getTextContent:function(e){return e.textContent},isElement:function(e){return 1===e.nodeType},isText:function(e){return 3===e.nodeType},isComment:function(e){return 8===e.nodeType},isDocumentFragment:i};function u(e){return void 0===e}function a(e){return void 0!==e}const f=t("",{},[],void 0,void 0);function c(e,t){var n,l;let o=e.key===t.key,i=(null===(n=e.data)||void 0===n?void 0:n.is)===(null===(l=t.data)||void 0===l?void 0:l.is),r=e.sel===t.sel,d=!!e.sel||e.sel!==t.sel||typeof e.text==typeof t.text;return r&&o&&i&&d}const s=["create","update","remove","destroy","pre","post"];function v(e,o,i){let r,d,u,a={};if(void 0!==i?(null!==o&&(a=o),n(i)?r=i:l(i)?d=i.toString():i&&i.sel&&(r=[i])):null!=o&&(n(o)?r=o:l(o)?d=o.toString():o&&o.sel?r=[o]:a=o),void 0!==r)for(u=0;u<r.length;++u)l(r[u])&&(r[u]=t(void 0,void 0,void 0,r[u],void 0));return e.startsWith("svg")&&(3===e.length||"."===e[3]||"#"===e[3])&&function e(t,n,l){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==l&&void 0!==n)for(let t=0;t<n.length;++t){let l=n[t];if("string"==typeof l)continue;let o=l.data;void 0!==o&&e(o,l.children,l.sel)}}(a,r,e),t(e,a,r,d,void 0)}function m(e,t){let n;let l=e.data.on,o=e.listener,i=e.elm,r=t&&t.data.on,d=t&&t.elm;if(l!==r){if(l&&o){if(r)for(n in l)r[n]||i.removeEventListener(n,o,!1);else for(n in l)i.removeEventListener(n,o,!1)}if(r){let o=t.listener=e.listener||function e(t){!function(e,t){let n=e.type,l=t.data.on;l&&l[n]&&function e(t,n,l){if("function"==typeof t)t.call(n,l,n);else if("object"==typeof t)for(let o=0;o<t.length;o++)e(t[o],n,l)}(l[n],t,e)}(t,e.vnode)};if(o.vnode=t,l)for(n in r)l[n]||d.addEventListener(n,o,!1);else for(n in r)d.addEventListener(n,o,!1)}}}const h=function(e,o,i){let r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]};for(let t of s)for(let n of e){let e=n[t];void 0!==e&&r[t].push(e)}function v(e,t){var o,i,c;let s;let m=e.data;if(void 0!==m){let t=null===(o=m.hook)||void 0===o?void 0:o.init;a(t)&&(t(e),m=e.data)}let h=e.children,p=e.sel;if("!"===p)u(e.text)&&(e.text=""),e.elm=d.createComment(e.text);else if(""===p)e.elm=d.createTextNode(e.text);else if(void 0!==p){let o=p.indexOf("#"),u=p.indexOf(".",o),c=o>0?o:p.length,g=u>0?u:p.length,x=-1!==o||-1!==u?p.slice(0,Math.min(c,g)):p,y=e.elm=a(m)&&a(s=m.ns)?d.createElementNS(s,x,m):d.createElement(x,m);for(c<g&&y.setAttribute("id",p.slice(c+1,g)),u>0&&y.setAttribute("class",p.slice(g+1).replace(/\./g," ")),s=0;s<r.create.length;++s)r.create[s](f,e);if(l(e.text)&&(!n(h)||0===h.length)&&d.appendChild(y,d.createTextNode(e.text)),n(h))for(s=0;s<h.length;++s){let e=h[s];null!=e&&d.appendChild(y,v(e,t))}let C=e.data.hook;a(C)&&(null===(i=C.create)||void 0===i||i.call(C,f,e),C.insert&&t.push(e))}else e.elm=d.createTextNode(e.text);return e.elm}function m(e,t,n,l,o,i){for(;l<=o;++l){let o=n[l];null!=o&&d.insertBefore(e,v(o,i),t)}}function h(e){var t,n;let l=e.data;if(void 0!==l){null===(n=null===(t=null==l?void 0:l.hook)||void 0===t?void 0:t.destroy)||void 0===n||n.call(t,e);for(let t=0;t<r.destroy.length;++t)r.destroy[t](e);if(void 0!==e.children)for(let t=0;t<e.children.length;++t){let n=e.children[t];null!=n&&"string"!=typeof n&&h(n)}}}function p(e,t,n,l){for(var o,i;n<=l;++n){let l,u;let f=t[n];if(null!=f){if(a(f.sel)){h(f),l=r.remove.length+1,u=function(e,t){return function(){if(0==--t){let t=d.parentNode(e);null!==t&&d.removeChild(t,e)}}}(f.elm,l);for(let e=0;e<r.remove.length;++e)r.remove[e](f,u);let e=null===(i=null===(o=null==f?void 0:f.data)||void 0===o?void 0:o.hook)||void 0===i?void 0:i.remove;a(e)?e(f,u):u()}else f.children?(h(f),p(e,f.children,0,f.children.length-1)):d.removeChild(e,f.elm)}}}return function(e,n){var l,o;let i,f,s;let h=[];for(i=0;i<r.pre.length;++i)r.pre[i]();for((l=e,d.isElement(l))?e=function(e){let n=e.id?"#"+e.id:"",l=e.getAttribute("class"),o=l?"."+l.split(" ").join("."):"";return t(d.tagName(e).toLowerCase()+n+o,{},[],void 0,e)}(e):(o=e,d.isDocumentFragment(o)&&(e=t(void 0,{},[],void 0,e))),c(e,n)?function e(t,n,l){var o,i,f,s,h,g,x,y;let C=null===(o=n.data)||void 0===o?void 0:o.hook;null===(i=null==C?void 0:C.prepatch)||void 0===i||i.call(C,t,n);let N=n.elm=t.elm;if(t===n)return;if(void 0!==n.data||a(n.text)&&n.text!==t.text){null!==(f=n.data)&&void 0!==f||(n.data={}),null!==(s=t.data)&&void 0!==s||(t.data={});for(let e=0;e<r.update.length;++e)r.update[e](t,n);null===(x=null===(g=null===(h=n.data)||void 0===h?void 0:h.hook)||void 0===g?void 0:g.update)||void 0===x||x.call(g,t,n)}let k=t.children,T=n.children;u(n.text)?a(k)&&a(T)?k!==T&&function(t,n,l,o){let i,r,a,f=0,s=0,h=n.length-1,g=n[0],x=n[h],y=l.length-1,C=l[0],N=l[y];for(;f<=h&&s<=y;)null==g?g=n[++f]:null==x?x=n[--h]:null==C?C=l[++s]:null==N?N=l[--y]:c(g,C)?(e(g,C,o),g=n[++f],C=l[++s]):c(x,N)?(e(x,N,o),x=n[--h],N=l[--y]):c(g,N)?(e(g,N,o),d.insertBefore(t,g.elm,d.nextSibling(x.elm)),g=n[++f],N=l[--y]):c(x,C)?(e(x,C,o),d.insertBefore(t,x.elm,g.elm),x=n[--h],C=l[++s]):(void 0===i&&(i=function(e,t,n){var l;let o={};for(let i=t;i<=n;++i){let t=null===(l=e[i])||void 0===l?void 0:l.key;void 0!==t&&(o[t]=i)}return o}(n,f,h)),u(r=i[C.key])?(d.insertBefore(t,v(C,o),g.elm),C=l[++s]):u(i[N.key])?(d.insertBefore(t,v(N,o),d.nextSibling(x.elm)),N=l[--y]):((a=n[r]).sel!==C.sel?d.insertBefore(t,v(C,o),g.elm):(e(a,C,o),n[r]=void 0,d.insertBefore(t,a.elm,g.elm)),C=l[++s]));s<=y&&m(t,null==l[y+1]?null:l[y+1].elm,l,s,y,o),f<=h&&p(t,n,f,h)}(N,k,T,l):a(T)?(a(t.text)&&d.setTextContent(N,""),m(N,null,T,0,T.length-1,l)):a(k)?p(N,k,0,k.length-1):a(t.text)&&d.setTextContent(N,""):t.text!==n.text&&(a(k)&&p(N,k,0,k.length-1),d.setTextContent(N,n.text)),null===(y=null==C?void 0:C.postpatch)||void 0===y||y.call(C,t,n)}(e,n,h):(f=e.elm,s=d.parentNode(f),v(n,h),null!==s&&(d.insertBefore(s,n.elm,d.nextSibling(f)),p(s,[e],0,0))),i=0;i<h.length;++i)h[i].data.hook.insert(h[i]);for(i=0;i<r.post.length;++i)r.post[i]();return n}}([{create:m,update:m,destroy:m}]),p=(e,t)=>(console.log(e.count),v("div",[v("h1",e.count),v("button",{on:{click:x}},"Add")]));let g={count:0};function x(){var t;t={count:g.count+1},g={...g,...t},h(e,y(g)),console.log("State updated:",g)}function y(t){let n=h(e,p(t));return e||console.log("Component mounted"),e=n}h(document.getElementById("container"),y(g));
//# sourceMappingURL=index.f427130e.js.map
